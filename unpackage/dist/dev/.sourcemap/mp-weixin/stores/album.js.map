{"version":3,"file":"album.js","sources":["stores/album.js"],"sourcesContent":["import {defineStore} from 'pinia'\r\nimport {ref} from \"vue\";\r\nimport {createSubAlbum, deleteSubAlbum, getSubAlbums, updateSubAlbum} from \"/api/album.js\"\r\n\r\n\r\n\r\nexport const useAlbumStore = defineStore('album', () => {\r\n\r\n    const id_index = ref({\r\n        id:null,\r\n        index: null\r\n    })\r\n\r\n    const albumList = ref()\r\n\r\n    const getAlbumList = async () => {\r\n        try {\r\n            const res = await getSubAlbums()\r\n            console.log(\"getAlbumList收到的数据\", res.data)\r\n            return res.data\r\n        } catch (error) {\r\n            console.error('获取相册信息失败:', error)\r\n        }\r\n\r\n    }\r\n\r\n    const createNewAlbum = async (name) => {\r\n        try {\r\n            const res = await createSubAlbum(name)\r\n            console.log(\"createNewAlbum\", res.data)\r\n            return res.data\r\n        } catch (error) {\r\n            console.error('创建相册失败:', error)\r\n        }\r\n\r\n    }\r\n    const updateAlbum = async (id,name) => {\r\n        try {\r\n            const res = await updateSubAlbum(id, name)\r\n            console.log(\"updateSubAlbum\", res.data)\r\n            return res.data\r\n        } catch (error) {\r\n            console.error('修改相册失败:', error)\r\n        }\r\n    }\r\n    const deleteAlbum = async (id) => {\r\n        try {\r\n            const res = await deleteSubAlbum(id)\r\n            console.log(\"updateSubAlbum\", res.data)\r\n            return res.data\r\n        } catch (error) {\r\n            console.error('修改相册失败:', error)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return {\r\n        getAlbumList,\r\n        createNewAlbum,\r\n        updateAlbum,\r\n        deleteAlbum,\r\n        id_index\r\n\r\n\r\n    }\r\n})\r\n"],"names":["defineStore","ref","getSubAlbums","uni","createSubAlbum","updateSubAlbum","deleteSubAlbum"],"mappings":";;;AAMY,MAAC,gBAAgBA,cAAAA,YAAY,SAAS,MAAM;AAEpD,QAAM,WAAWC,cAAAA,IAAI;AAAA,IACjB,IAAG;AAAA,IACH,OAAO;AAAA,EACf,CAAK;AAEiBA,oBAAK;AAEvB,QAAM,eAAe,YAAY;AAC7B,QAAI;AACA,YAAM,MAAM,MAAMC,uBAAc;AAChCC,oBAAA,MAAA,MAAA,OAAA,yBAAY,qBAAqB,IAAI,IAAI;AACzC,aAAO,IAAI;AAAA,IACd,SAAQ,OAAO;AACZA,oBAAAA,MAAA,MAAA,SAAA,yBAAc,aAAa,KAAK;AAAA,IACnC;AAAA,EAEJ;AAED,QAAM,iBAAiB,OAAO,SAAS;AACnC,QAAI;AACA,YAAM,MAAM,MAAMC,UAAc,eAAC,IAAI;AACrCD,oBAAY,MAAA,MAAA,OAAA,yBAAA,kBAAkB,IAAI,IAAI;AACtC,aAAO,IAAI;AAAA,IACd,SAAQ,OAAO;AACZA,oBAAAA,MAAA,MAAA,SAAA,yBAAc,WAAW,KAAK;AAAA,IACjC;AAAA,EAEJ;AACD,QAAM,cAAc,OAAO,IAAG,SAAS;AACnC,QAAI;AACA,YAAM,MAAM,MAAME,yBAAe,IAAI,IAAI;AACzCF,oBAAY,MAAA,MAAA,OAAA,yBAAA,kBAAkB,IAAI,IAAI;AACtC,aAAO,IAAI;AAAA,IACd,SAAQ,OAAO;AACZA,oBAAAA,MAAA,MAAA,SAAA,yBAAc,WAAW,KAAK;AAAA,IACjC;AAAA,EACJ;AACD,QAAM,cAAc,OAAO,OAAO;AAC9B,QAAI;AACA,YAAM,MAAM,MAAMG,UAAc,eAAC,EAAE;AACnCH,oBAAY,MAAA,MAAA,OAAA,yBAAA,kBAAkB,IAAI,IAAI;AACtC,aAAO,IAAI;AAAA,IACd,SAAQ,OAAO;AACZA,oBAAAA,MAAA,MAAA,SAAA,yBAAc,WAAW,KAAK;AAAA,IACjC;AAAA,EACJ;AAID,SAAO;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAGH;AACL,CAAC;;"}