{"version":3,"file":"user.js","sources":["pages/user/user.vue","../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci91c2VyLnZ1ZQ"],"sourcesContent":["<!--个人主页-->\n\n\n<script setup>\nimport {ref} from 'vue'\nimport {onLoad,onShow} from '@dcloudio/uni-app'\nimport {useUserStore} from '@/stores/user.js'\nimport {getAvatarUrl} from \"@/utils/url\";\n\nconst userStore = useUserStore()\n\nconst user1 = ref({\n  nickname: '',\n  partner_id: '',\n  avatarFile: null\n})\n\nconst user2 = ref({\n  nickname: '',\n  partner_id: '',\n  avatarFile: null\n})\nonLoad(async () => {\n  const {success} = await userStore.login()\n  if (success) {\n    const {userInfo} = userStore.getStoredInfo()\n    user1.value = {\n      nickname: userInfo[0].nickname,\n      avatarFile: getAvatarUrl(userInfo[0].avatarUrl),\n      partner_id: userInfo[0].partner_id,\n    }\n    user2.value = {\n      nickname: userInfo[1].nickname,\n      avatarFile: getAvatarUrl(userInfo[1].avatarUrl),\n      partner_id: userInfo[1].partner_id,\n    }\n  }\n});\nonShow(async() => {\n  console.log(\"show!\")\n  const userInfo = await userStore.getUserInfo()\n  user1.value = {\n    nickname: userInfo[0].nickname,\n    avatarFile: getAvatarUrl(userInfo[0].avatarUrl),\n    partner_id: userInfo[0].partner_id,\n  }\n  user2.value = {\n    nickname: userInfo[1].nickname,\n    avatarFile: getAvatarUrl(userInfo[1].avatarUrl),\n    partner_id: userInfo[1].partner_id,\n  }\n})\n\nconst toProfile = () => {\n  uni.navigateTo({\n    url: '/pages/profile/profile',\n  });\n}\n\n\nconst toAlbum =()=>{\n  uni.navigateTo({\n    url: '/pages/album/album',\n  });``\n}\n\nconst toCoupon =()=>{\n  uni.navigateTo({\n    url: '/pages/coupon/coupon',\n  });``\n}\n\nconst goToFavorite = () =>{\n  uni.navigateTo({\n    url: '/pages/FavoritesPage/FavoritesPage',\n  });``\n}\n\nconst test = () =>{\n  uni.navigateTo({\n    url: '/pages/Comments/Comments',\n  });``\n}\n\n</script>\n\n\n<template>\n  <view class=\"container\">\n    <view class=\"userInfo\">\n      <view class=\"user user1\">\n        <image :src=\"user1.avatarFile\" mode=\"aspectFit\"></image>\n        <view class=\"userName1\">{{ user1.nickname }}</view>\n      </view>\n\n      <view class=\"user user2\">\n        <image :src=\"user2.avatarFile\" mode=\"aspectFit\"></image>\n        <view class=\"userName1\">{{ user2.nickname }}</view>\n      </view>\n    </view>\n\n\n    <view class=\"func\">\n      <view class=\"func_part func_part1\">\n        <view class=\"like func_part_item\" @click=\"toAlbum\">\n          <uni-icons class=\"leftIcon\" type=\"images\" size=\"30\" color=\"#28b389\" ></uni-icons>\n          <view class=\"text\">我的相册</view>\n          <uni-icons class=\"rightIcon\" type=\"right\" size=\"20\"></uni-icons>\n        </view>\n\n        <view class=\"comment func_part_item\" @click=\"test\">\n          <uni-icons class=\"leftIcon\" type=\"chatbubble\" size=\"30\" color=\"#28b389\"></uni-icons>\n          <view class=\"text\">我的评论</view>\n          <uni-icons class=\"rightIcon\" type=\"right\" size=\"20\"></uni-icons>\n        </view>\n\n        <view class=\"like func_part_item\" @click=\"goToFavorite\">\n          <uni-icons class=\"leftIcon\" type=\"star\" size=\"30\" color=\"#28b389\"></uni-icons>\n          <view class=\"text\">我的收藏</view>\n          <uni-icons class=\"rightIcon\" type=\"right\" size=\"20\"></uni-icons>\n        </view>\n\n\n        <view class=\"other func_part_item\" @click=\"toCoupon\">\n          <uni-icons class=\"leftIcon\" type=\"wallet\" size=\"30\" color=\"#28b389\" ></uni-icons>\n          <view class=\"text\">兑换券</view>\n          <uni-icons class=\"rightIcon\" type=\"right\" size=\"20\"></uni-icons>\n        </view>\n      </view>\n\n\n      <view class=\"func_part func_part2\">\n\n\n        <view class=\"other func_part_item\">\n          <uni-icons @click=\"toProfile\" class=\"leftIcon\" type=\"person\" size=\"30\" color=\"#28b389\"></uni-icons>\n          <view class=\"text\">个人信息</view>\n          <uni-icons class=\"rightIcon\" type=\"right\" size=\"20\"></uni-icons>\n        </view>\n        <view class=\"other func_part_item\">\n          <uni-icons class=\"leftIcon\" type=\"gear\" size=\"30\" color=\"#28b389\"></uni-icons>\n          <view class=\"text\">设置</view>\n          <uni-icons class=\"rightIcon\" type=\"right\" size=\"20\"></uni-icons>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n\n<style lang=\"scss\" scoped>\n\n\n.leftIcon {\n  margin-right: 20rpx\n}\n\n.text {\n  flex: 1\n}\n\n.rightIcon {\n  margin-left: auto\n}\n\n.func .func_part .func_part_item {\n  height: 100rpx;\n  border-bottom: 1px solid #e0e0e0;\n  width: 90%;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n}\n\n.func .func_part .func_part_item:last-child {\n\n  border-bottom: 0\n}\n\n.func .func_part {\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.2);\n  margin-bottom: 50rpx;\n\n}\n.func .func_part1 {\n\n  height: 400rpx;\n}\n.func .func_part2 {\n\n  height: 200rpx;\n}\n\n.func {\n  padding: 80rpx 40rpx;\n}\n\n\n// 用户信息部分\n.userInfo view {\n  font-weight: 600;\n}\n\n.userInfo image {\n  width: 200rpx;\n  height: 200rpx;\n  border-radius: 50%;\n  margin-bottom: 30rpx;\n}\n\n.userInfo {\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  padding-top: 40rpx;\n  //background: #28b389;\n  background: linear-gradient(to bottom, skyblue, white);\n  backdrop-filter: blur(50px);\n  height: 400rpx;\n}\n\n.user {\n  display: flex;\n  flex-direction: column;\n  align-items: center; /* 使内容水平居中 */\n  justify-content: center; /* 使内容垂直居中 */\n  margin-top: 10rpx;\n}\n\n\n</style>\n","import MiniProgramPage from 'C:/Users/ADMIN/Documents/HBuilderProjects/宝宝照片/pages/user/user.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","onLoad","getAvatarUrl","onShow","uni"],"mappings":";;;;;;;;;;;;;;;AASA,UAAM,YAAYA,YAAAA,aAAc;AAEhC,UAAM,QAAQC,cAAAA,IAAI;AAAA,MAChB,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,IACd,CAAC;AAED,UAAM,QAAQA,cAAAA,IAAI;AAAA,MAChB,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,IACd,CAAC;AACDC,kBAAAA,OAAO,YAAY;AACjB,YAAM,EAAC,QAAO,IAAI,MAAM,UAAU,MAAO;AACzC,UAAI,SAAS;AACX,cAAM,EAAC,SAAQ,IAAI,UAAU,cAAe;AAC5C,cAAM,QAAQ;AAAA,UACZ,UAAU,SAAS,CAAC,EAAE;AAAA,UACtB,YAAYC,UAAAA,aAAa,SAAS,CAAC,EAAE,SAAS;AAAA,UAC9C,YAAY,SAAS,CAAC,EAAE;AAAA,QACzB;AACD,cAAM,QAAQ;AAAA,UACZ,UAAU,SAAS,CAAC,EAAE;AAAA,UACtB,YAAYA,UAAAA,aAAa,SAAS,CAAC,EAAE,SAAS;AAAA,UAC9C,YAAY,SAAS,CAAC,EAAE;AAAA,QACzB;AAAA,MACF;AAAA,IACH,CAAC;AACDC,kBAAAA,OAAO,YAAW;AAChBC,oBAAAA,gDAAY,OAAO;AACnB,YAAM,WAAW,MAAM,UAAU,YAAa;AAC9C,YAAM,QAAQ;AAAA,QACZ,UAAU,SAAS,CAAC,EAAE;AAAA,QACtB,YAAYF,UAAAA,aAAa,SAAS,CAAC,EAAE,SAAS;AAAA,QAC9C,YAAY,SAAS,CAAC,EAAE;AAAA,MACzB;AACD,YAAM,QAAQ;AAAA,QACZ,UAAU,SAAS,CAAC,EAAE;AAAA,QACtB,YAAYA,UAAAA,aAAa,SAAS,CAAC,EAAE,SAAS;AAAA,QAC9C,YAAY,SAAS,CAAC,EAAE;AAAA,MACzB;AAAA,IACH,CAAC;AAED,UAAM,YAAY,MAAM;AACtBE,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAGA,UAAM,UAAS,MAAI;AACjBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACH;AAEA,UAAM,WAAU,MAAI;AAClBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACH;AAEA,UAAM,eAAe,MAAK;AACxBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACH;AAEA,UAAM,OAAO,MAAK;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACN,CAAA;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjFA,GAAG,WAAW,eAAe;"}