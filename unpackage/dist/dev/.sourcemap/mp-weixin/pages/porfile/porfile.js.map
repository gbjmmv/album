{"version":3,"file":"porfile.js","sources":["pages/porfile/porfile.vue","../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcG9yZmlsZS9wb3JmaWxlLnZ1ZQ"],"sourcesContent":["<script setup>\n\nimport { ref }from 'vue'\nimport { useUserStore } from '@/stores/user.js'\nimport {onLoad} from '@dcloudio/uni-app'\n\n\nconst currentProfile = ref({\n  nickname: '',\n  avatarUrl: '',\n  partnerId: '',\n  avatarFile: null\n})\nonLoad(()=>{\n  const userInfo = userStore.userInfo\n  currentProfile.value = {\n    nickname: userInfo.nickname,\n    avatarUrl: userInfo.avatarUrl,\n    partnerId: userInfo.partnerId\n  }\n})\n// 选择头像\nconst chooseAvatar = async () => {\n  try {\n    const res = await uni.chooseImage({\n      count: 1,\n      sizeType: ['compressed'],\n      sourceType: ['album', 'camera']\n    })\n\n    currentProfile.value.avatarUrl = res.tempFilePaths[0]\n    currentProfile.value.avatarFile = res.tempFiles[0]\n  } catch (error) {\n    console.error('选择图片失败：', error)\n  }\n}\n// 提交个人信息\nconst submitProfile = async () => {\n  const res = await userStore.updateProfile(currentProfile.value)\n\n  if (res.success) {\n    uni.showToast({\n      title: '更新成功',\n      icon: 'success'\n    })\n  }\n}\n</script>\n\n\n<template>\n\n\n\t<view>\n\t\t\n\t</view>\n</template>\n\n\n<style>\n\t       \n</style>\n","import MiniProgramPage from 'C:/Users/ADMIN/Documents/HBuilderProjects/宝宝照片/pages/porfile/porfile.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","MiniProgramPage"],"mappings":";;;;;;AAOA,UAAM,iBAAiBA,cAAAA,IAAI;AAAA,MACzB,UAAU;AAAA,MACV,WAAW;AAAA,MACX,WAAW;AAAA,MACX,YAAY;AAAA,IACd,CAAC;AACDC,kBAAAA,OAAO,MAAI;AACT,YAAM,WAAW,UAAU;AAC3B,qBAAe,QAAQ;AAAA,QACrB,UAAU,SAAS;AAAA,QACnB,WAAW,SAAS;AAAA,QACpB,WAAW,SAAS;AAAA,MACrB;AAAA,IACH,CAAC;;;;;;ACnBD,GAAG,WAAWC,SAAe;"}