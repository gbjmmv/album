{"version":3,"file":"album_list.js","sources":["pages/album_list/album_list.vue","../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWxidW1fbGlzdC9hbGJ1bV9saXN0LnZ1ZQ"],"sourcesContent":["<script setup>\nimport {ref} from 'vue'\nimport {useAlbumStore} from '@/stores/album.js'\nimport {getAvatarUrl} from \"@/utils/url\";\nimport {onLoad} from '@dcloudio/uni-app'\n\nconst albumStore = useAlbumStore()\nconst albumList = ref([])\nconst getAlbum = async () => {\n  albumList.value = await albumStore.getAlbumList()\n  for(let i=0; i<albumList.value.length; i++) {\n    if(albumList.value[i].coverPhotoUrl){\n      albumList.value[i].coverPhotoUrl = getAvatarUrl(albumList.value[i].coverPhotoUrl)\n    } else {\n      albumList.value[i].coverPhotoUrl = \"/static/image/classify.png\"\n    }\n  }\n}\n\nonLoad(async () => {\n  await getAlbum()\n})\n\n\nconst inputValue = ref(\"\")\nconst choose = (id,index) => {\n\n  albumStore.id_index.value = {\n    id,\n    index\n};\n\n\n\n  // 返回上一个页面\n  uni.navigateBack();\n}\nconst show = ref(false)\nfunction createNewAlbum() {\n  show.value = true\n}\nfunction cancelNewAlbum() {\n  show.value = false\n}\n\n</script>\n\n\n<template>\n  <view class=\"container-whole\">\n    <view class=\"list\" v-for=\"(item,index) in albumList\"\n          :key=\"item.id\">\n\n      <view class=\"container\" @click=\"choose(item.id,index)\">\n        <view class=\"left\">\n          <image :src=\"albumList[index].coverPhotoUrl\" mode=\"aspectFill\"></image>\n        </view>\n        <view class=\"right\">\n          <view class=\"title\">{{ albumList[index].name }}</view>\n          <view class=\"number\">{{ albumList[index].number }}张</view>\n        </view>\n      </view>\n\n    </view>\n  </view>\n  <view class=\"create\">\n    <view class=\"text\">新建相册</view>\n    <uni-icons @click=\"createNewAlbum\" class=\"plus\" color=\"#28b389\" type=\"plus\" size=\"60\"></uni-icons>\n  </view>\n  <view class=\"name\" v-show=\"show\">\n    <input class=\"input\" v-model=\"inputValue\" placeholder=\"请输入相册名\"/>\n    <button>确认</button>\n    <button @click = \"cancelNewAlbum\">取消</button>\n  </view>\n\n</template>\n\n\n<style>\n\n\n.container .right{\n  padding-right: 35rpx;\n  text-align: right;\n}\n\n\n.container .right .title{\n  font-size: 40rpx;\n}\n.container .left image {\n  height: 120rpx;\n  width: 120rpx;\n  border-radius: 10rpx;\n  transform: translateY(7rpx);\n}\n\n.container {\n  padding-right: 20rpx;\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n  width: 400rpx;\n  height: 150rpx;\n}\n\nbutton{\n  margin-top: 30rpx;\n  height: 60rpx;\n  width: 120rpx;\n  font-size: 30rpx;\n  line-height: 60rpx;\n}\n.name {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.input {\n  margin-top: 30rpx;\n  border: 1px solid black;\n  height: 60rpx;\n  width: 300rpx;\n  border-radius: 15rpx;\n}\n\n.create {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n\n.create .plus {\n  margin: 0 30rpx\n}\n\n.container-whole {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n}\n\n.list {\n  margin-top: 30rpx;\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n\n}\n\nalbum_title {\n  transform: translate(30rpx, -15rpx);\n}\n</style>\n","import MiniProgramPage from 'C:/Users/ADMIN/Documents/HBuilderProjects/宝宝照片/pages/album_list/album_list.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAlbumStore","ref","getAvatarUrl","onLoad","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;AAMA,UAAM,aAAaA,aAAAA,cAAe;AAClC,UAAM,YAAYC,cAAG,IAAC,EAAE;AACxB,UAAM,WAAW,YAAY;AAC3B,gBAAU,QAAQ,MAAM,WAAW,aAAc;AACjD,eAAQ,IAAE,GAAG,IAAE,UAAU,MAAM,QAAQ,KAAK;AAC1C,YAAG,UAAU,MAAM,CAAC,EAAE,eAAc;AAClC,oBAAU,MAAM,CAAC,EAAE,gBAAgBC,uBAAa,UAAU,MAAM,CAAC,EAAE,aAAa;AAAA,QACtF,OAAW;AACL,oBAAU,MAAM,CAAC,EAAE,gBAAgB;AAAA,QACpC;AAAA,MACF;AAAA,IACH;AAEAC,kBAAAA,OAAO,YAAY;AACjB,YAAM,SAAU;AAAA,IAClB,CAAC;AAGD,UAAM,aAAaF,cAAG,IAAC,EAAE;AACzB,UAAM,SAAS,CAAC,IAAG,UAAU;AAE3B,iBAAW,SAAS,QAAQ;AAAA,QAC1B;AAAA,QACA;AAAA,MACJ;AAKEG,oBAAG,MAAC,aAAY;AAAA,IAClB;AACA,UAAM,OAAOH,cAAG,IAAC,KAAK;AACtB,aAAS,iBAAiB;AACxB,WAAK,QAAQ;AAAA,IACf;AACA,aAAS,iBAAiB;AACxB,WAAK,QAAQ;AAAA,IACf;;;;;;;;;;;;;;;;;;;;;;;;;;AC1CA,GAAG,WAAWI,SAAe;"}